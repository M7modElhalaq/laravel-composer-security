language: php

php:

  - 5.6

before_install:
  - composer self-update
  - composer create-project laravel/laravel:5.1
  - cd ./laravel
  - composer config repositories.alevento git https://github.com/alevento/composer
  - sed -i 's/"psr-4": {/"psr-4": { "Padosoft\\\\Composer\\\\Test\\\\": "vendor\/padosoft\/composer\/tests\/",/g' /var/www/html/laravel/composer.json
  - composer require padosoft/composer dev-master
  - composer update

script:
  - vendor/bin/phpunit --configuration ./vendor/padosoft/composer/phpunit.xml.dist --testsuite Package --coverage-text --coverage-clover=coverage.clover


